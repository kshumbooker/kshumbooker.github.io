<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" type="image/x-icon" href="https://www.booker.co.uk/images/favicon.ico" />
    <title>Custom Tools for data processing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
		<script
		src="https://code.jquery.com/jquery-3.7.1.js"
		integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
		crossorigin="anonymous"></script>
	<script>

		const branch = {
			125: 'A1 Edinburgh (125)',
			454: 'Aberdeen (454)',
			590: 'Aberdeen Makro (590)',
			103: 'Aberystwyth (103)',
			470: 'Acton (470)',
			615: 'Advanced Supply Chain (615)',
			321: 'Aldershot (321)',
			665: 'Andover (665)',
			369: 'Ardwick (369)',
			322: 'Avonmouth (322)',
			171: 'Ayr (171)',
			361: 'Barnsley (361)',
			213: 'Barnstaple (213)',
			176: 'Barrow (176)',
			132: 'Basingstoke (132)',
			182: 'Bath (182)',
			562: 'Beckton (562)',
			533: 'Bedford (533)',
			592: 'Belfast Makro (592)',
			148: 'Birkenhead (148)',
			150: 'Blackburn (150)',
			345: 'Blackpool (345)',
			519: 'Boston (519)',
			303: 'Bournemouth (303)',
			234: 'Bradford (234)',
			402: 'Bridgend (402)',
			307: 'Brighton (307)',
			423: 'Bristol (423)',
			580: 'Bristol Makro (580)',
			222: 'Broadstairs (222)',
			664: 'BRP Didcot (664)',
			463: 'Burnley (463)',
			184: 'Burton-on-Trent (184)',
			532: 'Byfleet (532)',
			544: 'Cambridge (544)',
			550: 'Canterbury (550)',
			341: 'Cardiff (341)',
			426: 'Cardiff (Leckwith) (426)',
			588: 'Cardiff Makro (588)',
			153: 'Carlisle (153)',
			124: 'Carmarthen (124)',
			229: 'Castleford (229)',
			574: 'Charlton Makro (574)',
			136: 'Chelmsford (136)',
			433: 'Cheltenham (433)',
			344: 'Chester (344)',
			275: 'Chesterfield (275)',
			133: 'Chichester (133)',
			283: 'Clacton (283)',
			376: 'Colchester (376)',
	302: 'Coventry (302)',
326: 'Cowes (326)',
221: 'Crayford (221)',
536: 'Croydon (536)',
474: 'Cwmbran (474)',
306: 'Dagenham (306)',
205: 'Darlington (205)',
377: 'Derby (377)',
603: 'Didcot Booker Direct (603)',
173: 'Dumfries (173)',
482: 'Dundee (482)',
126: 'Dunfermline (126)',
138: 'Eastbourne (138)',
314: 'Eastleigh (314)',
583: 'Edinburgh Makro (583)',
455: 'Elgin (455)',
667: 'Elmsall (667)',
581: 'Enfield Makro (581)',
338: 'Exeter (338)',
597: 'Exeter Makro (597)',
172: 'Falkirk (172)',
663: 'Fareham (663)',
579: 'Fareham Makro (579)',
261: 'Farnworth (261)',
295: 'Folkestone (295)',
194: 'Galashiels (194)',
208: 'Gateshead (208)',
348: 'Glasgow (348)',
372: 'Gloucester (372)',
109: 'Gorton (Manchester) (109)',
521: 'Grantham (521)',
356: 'Greenford (356)',
177: 'Greenock (177)',
614: 'GREGORY DISTRIBUTION. (614)',
144: 'Gt Yarmouth (144)',
572: 'Halesowen Makro (572)',
168: 'Hamilton (168)',
236: 'Harrogate (236)',
556: 'Hastings (556)',
604: 'Hatfield Booker Direct (604)',
131: 'Haverfordwest (131)',
358: 'Haydock (358)',
602: 'Haydock Booker Direct (602)',
127: 'Hayle (127)',
669: 'Hemel Hempstead (669)',
254: 'Hereford (254)',
290: 'High Wycombe (290)',
418: 'Holt (418)',
268: 'Huddersfield (268)',
427: 'Hull (427)',
586: 'Hull Makro (586)',
457: 'Inverness (457)',
378: 'Ipswich (378)',
598: 'Ipswich Makro (598)',
434: 'Irvine (434)',
503: 'Kettering (503)',
524: 'Kings Lynn (524)',
366: 'Kingswinford (366)',
485: 'Kirkcaldy (485)',
157: 'Lancaster (157)',
575: 'Leeds Makro (575)',
185: 'Leicester (185)',
584: 'Leicester Makro (584)',
165: 'Leigh (165)',
169: 'Lincoln (169)',
163: 'Liverpool (163)',
571: 'Liverpool Makro (571)',
608: 'Livingston (608)',
601: 'Livingston Booker Direct (601)',
311: 'Llandudno (311)',
318: 'Lowestoft (318)',
329: 'Luton (329)',
110: 'Macclesfield (110)',
570: 'Manchester Makro (570)',
287: 'Mansfield (287)',
375: 'Medway (375)',
312: 'Merthyr Tydfil (312)',
260: 'Middleton (260)',
486: 'Morpeth (486)',
203: 'Newcastle (203)',
476: 'Newquay (476)',
232: 'Newton Abbot (232)',
558: 'Nine Elms (558)',
309: 'North Weald-Epping (309)',
266: 'Northampton (266)',
111: 'Northwich (111)',
317: 'Norwich (317)',
596: 'Norwich Makro (596)',
327: 'Nottingham (327)',
331: 'Nuneaton (331)',
437: 'Oban (437)',
534: 'Oxford (534)',
373: 'Paignton (373)',
487: 'Paisley (487)',
622: 'Perth (622)',
316: 'Peterborough (316)',
328: 'Plymouth (328)',
587: 'Poole Makro (587)',
304: 'Portsmouth (304)',
593: 'Preston Makro (593)',
599: 'Queensferry Makro (599)',
594: 'Rayleigh Makro (594)',
585: 'Reading Makro (585)',
560: 'Redhill (560)',
267: 'Redruth (267)',
305: 'Rugby (305)',
137: 'Salisbury (137)',
354: 'Saltley (354)',
219: 'Sandown (219)',
217: 'Scarborough (217)',
223: 'Scunthorpe (223)',
166: 'Shawfield (166)',
308: 'Sheffield Booker (308)',
578: 'Sheffield Makro (578)',
259: 'Shrewsbury (259)',
313: 'Sidcup (313)',
527: 'Skegness (527)',
273: 'Slough (273)',
325: 'Southend (325)',
164: 'Southport (164)',
231: 'St Austell (231)',
561: 'St Pancras (561)',
337: 'Stirchley (337)',
623: 'Stirling (623)',
276: 'Stockport (276)',
279: 'Stockton (279)',
339: 'Stoke (339)',
591: 'Stoke Makro (591)',
351: 'Sunbury (351)',
201: 'Sunderland (201)',
332: 'Swansea (332)',
195: 'Swindon (195)',
190: 'Tamworth (190)',
193: 'Taunton (193)',
595: 'Teesside Makro (595)',
355: 'Telford (355)',
666: 'Thamesmead (666)',
395: 'Tottenham (395)',
130: 'Trowbridge (130)',
258: 'Tunbridge Wells (258)',
191: 'Warwick (191)',
573: 'Washington Makro (573)',
319: 'Watford (319)',
668: 'Wellingborough (668)',
600: 'Wellingborough Booker Direct (600)',
447: 'Weston-Super-Mare (447)',
140: 'Weymouth (140)',
353: 'Wimbledon (353)',
357: 'Wolverhampton (357)',
380: 'Wolverhampton (380)',
280: 'Worcester (280)',
175: 'Workington (175)',
179: 'Worthing (179)',
156: 'Wrexham (156)',
607: 'Wrexham (607)',
479: 'Yeovil (479)',
343: 'York (343)'
		}

		const yesOrNo = {
			NULL: 'Null',
			Y: 'Yes',
			N: 'No'
		};
		const isDel = {
			1: 'Delete', 
			0: 'Insert or Amend'
		};
		const title = {
			Mr: 'Mr', 
			Mrs: 'Mrs', 
			Dr: 'Dr',
			Ms: 'Ms'
		};
		const facia = {
			BE: 'BE - Best Food Logistics',
			BU: 'BU - Budgens',
			BZ: 'BZ - CafÃ© Club',
			CD: 'CD - Fast Food Club',
			CK: 'CK - Classic Drinks',
			CS: 'CS - Car Sales',
			EX: 'EX - Catering Express',
			FR: 'FR - Comelle',
			FS: 'FS - Family Shopper',
			JE: 'JE - Just Eat',
			LO: 'LO - Londis',
			NA: 'NA - Non Fascia',
			OS: 'OS - One Stop',
			PR: 'PR - Premier Stores',
			RO: 'RO - Rontec BRP',
			RP: 'RP - Chef Central',
			SL: 'SL - Shop Local',
			SR: 'SR - Rontec Shop N Drive',
			TC: 'TC - Top Caterers',
			TP: 'TP - Tesco PFS'
		};

		const classification = {
			'1A': '1A - GROCERY GENERAL STORE',
			'1C': '1C - DELICATESSEN STORES',
			'1D': '1D - DAIRYMEN',
			'1F': '1F - BUTCHERS',
			'1G': '1G - GREENGROCERS',
			'1J': '1J - FISHMONGERS',
'1K': '1K - BAKERY SHOP',
'4A': '4A - NON-FOOD STORES',
'4B': '4B - FARM SHOPS',
'4C': '4C - CHEMIST/HEALTH SHOPS',
'4D': '4D - PET SHOPS',
'4E': '4E - CINEMAS',
'4F': '4F - DVD RENTAL STORES',
'4J': '4J - VENDING',
'5A': '5A - STREET MARKET',
'SH': 'SH - Non-Classified Food Retailer  DO NOT USE',
'6A': '6A - IND FOOD DEL SERVICE',
'6B': '6B - IND WHOLESALER',
'6C': '6C - WHOLESALE CHAIN',
'2A': '2A - OFF LICENCE',
'3A': '3A - CTN (CIG/TOB/NEWS)',
'3B': '3B - GARAGE FORECOURTS',
'AA': 'AA - PUB NO FOOD',
'AB': 'AB - PUB WITH FOOD',
'AD': 'AD - PUB WITH ACCOMM',
'DC': 'DC - WINE BAR/BISTRO',
'JA': 'JA - WMC/SPORTS CLUBS',
'JC': 'JC - NIGHT CLUB',
'DA': 'DA - BEST FOOD LOGISTICS',
'DF': 'DF - ITALIAN RESTAURANT',
'DH': 'DH - CHINESE RESTAURANT',
'DJ': 'DJ - INDIAN RESTAURANT',
'DK': 'DK - OTHER RESTAURANTS',
'DM': 'DM - AMERICAN / SOUTH AMERICAN RESTAURANT',
'DN': 'DN - BRITISH/IRISH RESTAURANT',
'DP': 'DP - OTHER EUROPEAN RESTAURANT',
'DQ': 'DQ - OTHER ASIAN / MID EASTERN / AFRICAN',
'CE': 'CE - HOLIDAY CENTRE',
'HA': 'HA - ROADSIDE RESTAURANT',
'HC': 'HC - BUS/COACH/RAIL CATR',
'JB': 'JB - LEISURE CENTRE',
'JD': 'JD - TOURIST ATTRACTION',
'JE': 'JE - OUTSIDE EVENT CATER',
'U6': 'U6 - BOOKER NATIONAL ACCOUNTS',
'U7': 'U7 - Non-Classified Horeca (DO NOT USE)',
'CA': 'CA - HOTEL',
'CB': 'CB - GUEST HOUSE',
'CD': 'CD - HOSTEL',
'BA': 'BA - FISH & CHIPS',
'BC': 'BC - CHINESE TAKEAWAY',
'BD': 'BD - INDIAN TAKEAWAY',
'BE': 'BE - GREEK/KEBEB TAKEAWAY',
'BF': 'BF - FAST FOOD TAKEAWAY',
'BG': 'BG - PIZZA TAKEAWAY/DEL',
'BB': 'BB - BAKERS/SANDWICHES',
'BH': 'BH - CAFE',
'HB': 'HB - TRANSPORT CAFE/VAN',
'GA': 'GA - SCHOOL LOCAL AUTH',
'GC': 'GC - SCHOOL - PRIVATE',
'GD': 'GD - HIGHER EDUCATION',
'JF': 'JF - SCOUTS/GUIDES',
'1N': '1N - ARAMARK PRISON SERV',
'1P': '1P - ARAMARK - OTHER',
'1R': '1R - ARAMARK - B&I',
'1S': '1S - ARAMARK - CORPORATE',
'1T': '1T - ARAMARK - DEFENCE',
'1U': '1U - ARAMARK - EDUCATION',
'1V': '1V - ARAMARK - HEALTHCARE',
'1W': '1W - ARAMARK - JUDICIAL',
'1X': '1X - ARAMARK - CPS',
'FA': 'FA - HOSPITAL NHS',
'FC': 'FC - HOSPITAL PRIVATE',
'FE': 'FE - NURSING HOME PRIVATE',
'FF': 'FF - NURSING HOME CHARITY',
'FG': 'FG - INSTITUTIONS/PRISONS',
'EA': 'EA - CANTEEN FACILITY',
'EB': 'EB - OFFICE SUPPLIES',
'EC': 'EC - PUBLIC SERVICES CANT',
'ED': 'ED - ARMED SERVICES',
'JG': 'JG - UNLICENCED CLUBS',
'1L': '1L - ICELAND',
'7E': '7E - MAKRO INTER COMPANY',
'7F': '7F - RITTER INTER COMPANY',
'7G': '7G - CLASSIC INTER COMPANY',
'7H': '7H - BRP INTERCOMPANY',
'7I': '7I - BFL INTER COMPANY',
'1E': '1E - EXPORT',
'4G': '4G - NON FOOD/CAR SALES',
'7A': '7A - OTHER - COLLEAGUES',
'7B': '7B - BAUGUR PARTNERS',
'7C': '7C - FAMILY AND FRIENDS',
'7D': '7D - PENSIONER',
'8A': '8A - DAY PASS',
'8B': '8B - DAYPASS BRANCH B',
'8C': '8C - DAYPASS BRANCH C',
'8D': '8D - DAYPASS BRANCH D',
'8E': '8E - DAYPASS BRANCH E',
'8F': '8F - DAYPASS BRANCH F',
'1Q': '1Q - DELIVERED RETAILERS',
'1Z': '1Z - TEMPORARY CATEGORY',
'9X': '9X - EX CUSTOMER',
'9Z': '9Z - OTHER',
'X1': 'X1 - Belfast Public Off License',
'X2': 'X2 - Carpet Commission',
'X3': 'X3 - Daily Card',
'X4': 'X4 - Daily Card - International Visitor',
'X5': 'X5 - Deleted Account (ask business to re-regi',
'X6': 'X6 - Lottery Agent',
'X7': 'X7 - Makro Supplier',
'X8': 'X8 - Makro UK Online Sales',
'X9': 'X9 - Makro UK Public Outlet',
'XA': 'XA - MCafe Purchases',
'XB': 'XB - Metro Internal Consumption',
'XC': 'XC - Metro Staff Store',
'XD': 'XD - Repair Service',
'XE': 'XE - Sales To Customers Of Other Stores',
'XF': 'XF - Non-Classified SMEs',
'CH': 'CH - CHARITY',
'NM': 'NM - Chef Central Non Member',
'TE': 'TE - Tesco',
'EE': 'EE - OFF SHORE',
'P2': 'P2 - TRADESMAN',
'P3': 'P3 - TRNSPRT (TAXI/COACH)',
'P4': 'P4 - PUBLIC SERVICE',
'P5': 'P5 - OTHER BUSINESS',
'P6': 'P6 - CORPORATE (> 50 EMP)',
'V1': 'V1 - Building Maintenance',
'V2': 'V2 - Electrical Contractor / Electrician',
'V3': 'V3 - Garden Maintenance',
'V4': 'V4 - Hairdresser',
'V5': 'V5 - Metal Worker',
'V6': 'V6 - Other Craftsmen',
'V7': 'V7 - Painter / Decorator',
'V8': 'V8 - Plumber',
'V9': 'V9 - Roofer / Carpenter',
'VA': 'VA - Tailor / Dress Maker',
'VB': 'VB - Vehicle Maintenance',
'VC': 'VC - Dentists',
'VD': 'VD - Doctors',
'VE': 'VE - Hospital',
'VF': 'VF - Medical Specialists',
'VG': 'VG - Other Healthcare',
'VH': 'VH - Social Care Institution',
'VJ': 'VJ - Agriculture',
'VK': 'VK - Building Construction',
'VL': 'VL - Extraction',
'VM': 'VM - Food Production',
'VN': 'VN - Non Food Production',
'VP': 'VP - Other Industries',
'VQ': 'VQ - Utilities (Gas / Electric / Telephone et',
'VR': 'VR - Art / Culture',
'VS': 'VS - Associations / Clubs (Without Alcohol Li',
'VT': 'VT - Charity / Religious Group',
'VU': 'VU - Education / Science',
'VW': 'VW - Government & Administration',
'VX': 'VX - Other Institutions',
'VY': 'VY - Chemist',
'VZ': 'VZ - Department Store',
'W1': 'W1 - Florist',
'W2': 'W2 - Furniture Retailer',
'W3': 'W3 - Hardware / DIY Retailer',
'W4': 'W4 - Internet Retailer',
'W5': 'W5 - Jewellery Retailer',
'W6': 'W6 - Other High Street Non Food Retail Outlet',
'W7': 'W7 - Pet Shop',
'W8': 'W8 - Shoe Retailer',
'W9': 'W9 - Sports Goods Retailer',
'WA': 'WA - Stationery Retailer',
'WB': 'WB - Vehicle Dealership',
'WC': 'WC - Finance / Insurance / Consultancy',
'WD': 'WD - Internet & Computer Services',
'WE': 'WE - Liberal Profession',
'WF': 'WF - Other Agencies',
'WG': 'WG - Other Office Based Services',
'WH': 'WH - Sales Agent',
'WJ': 'WJ - Commercial Cleaning',
'WK': 'WK - Copy Shop',
'WL': 'WL - Event Management Services',
'WM': 'WM - Hire Services',
'WN': 'WN - Other Physical Services',
'WP': 'WP - Pet Care',
'WQ': 'WQ - Photographer',
'WR': 'WR - Post / Courier',
'WS': 'WS - Printing / Sign Writing',
'WT': 'WT - Taxi',
'WU': 'WU - Transport Logistics',
'WV': 'WV - Beauty',
'WW': 'WW - Complementary Therapy',
'WX': 'WX - Other Wellness',
'WY': 'WY - Spa',
'WZ': 'WZ - Sports / Recreation Centre (Without Alco)'	
		}


		const canShop = {
			0: '0 - Collect Only',
			1: '1 - Orders Settled to A/C / Card Pay',
			2: '2 - Card Pay Only',
			3: '3 - Collect Settled to A/C / Card Payment'
		};
		const status = {
			C: 'C - Current', 
			M: 'M - Marked For Deletion',
			P: 'P - Provisional', 
			D: 'D - Web Dummy', 
			W: 'W - Web Provisional', 
			A: 'A - Archived'
		};
		const sop = {
			0: '0 - Standard',
			1: '1 - EDI',
			2: '2 - Shop / Tele /E-biz',
			3: '3 - EPOS',
			4: '4 - National Accounts',
			5: '5 - National Accounts - no reprice',
			6: '6 - CIS'
		};
		const country = {
			EN: 'EN - England',
			SC: 'SC - Scotland',
			WA: 'WA - Wales',
			NI: 'NI - Northern Ireland'
		};
		const sector = {
			9: '9 - Accommodation',
			29: '29 - Booker Colleagues &amp; Associates',
		  28: 'Bulk Trading',
			13: '13 - Cafes/ Bakers',
			32: '32 - Charity',
			33: '33 - Chef Central',
			19: '19 - Craftsmen',
			1: '1 - C-Stores',
			6: '6 - CTNs &amp; Forecourts',
			30: '30 - Daypass',
			14: '14 - Education',
			12: '12 - Fast Food/ Take Aways',
			2: '2 - Food Retailers',
			15: '15 - Health &amp; Welfare',
			21: '21 - Industries',
			22: '22 - Institutions',
			27: '27 - Inter Group',	
			8: '8 - Licenced Clubs',
			23: '23 - Non Food Retailers',
			5: '5 - Off Licence',
			24: '24 - Office Based Services',
			18: '18 - Other Professionals',
			3: '3 - Other Retail',
			0o0: '00 - PBU',
			25: '25 - Physical Services',
			7: '7 - Public Houses',
			10: '10 - Restaurants',
			34: '34 - Tesco',
			11: '11 - Travel &amp; Leisure',
			31: '31 - Unclassified',
			17: '17 - Unlicenced Clubs',
			26: '26 - Wellness',
			4: '4 - Wholesale /Buying Cooperations',
			16: '16 - Workplace'
		};

		const businessType = {
			1: 'Retailer',
			2: 'Caterer',
			3: 'Small / Other Businesses'
		};

		const customerInterface = [
			{
				name: 'customerId',
				length: 9,
				type: 'input',
				required: true,
				placeholder: 'Customer Number'
			},
			{
				name: 'branchId', 
				length: 3,
				type: 'select',
				required: true,
				values: branch,
				placeholder: 'Web Branch ID',
				default: 266
			},
			{
				name: 'homeBranchId',
				length: 3,
				type: 'select',
				required: true,
				values: branch,
				placeholder: 'Home branch ID',
				default: 266
			},
			{
				name: 'title',
				length: 8,
				type: 'select',
				values: title,
				required: true,
				placeholder: 'Title',
				default: 'Mr'
			},
			{
				name: 'surname',
				length: 40,
				type: 'input',
				required: true,
				placeholder: 'Surname',
				default: 'Patrocinio'
			},
			{
				name: 'firstName',
				length:	40,
				type: 'input',
				required: true,
				placeholder: 'First name',
				default: 'Pedro'
			},
			{
				name: 'tradingName',
				length: 40,
				type: 'input',
				required: true,
				placeholder: 'Trading name',
				default: 'Booker Wholesale'
			},
			{
				name: 'street2',
				length: 40,
				type: 'input',
				placeholder: 'Street 2',
				default: 'Street 2'
			},
			{
				name: 'street3',
				length: 40,
				type: 'input',
				placeholder: 'Street 3',
				default: ''
			},
			{
				name: 'houseNumber',
				length: 10,
				type: 'input',
				required: true,
				placeholder: 'House number',
				default: '100'
			},
			{
				name: 'street',
				length: 60,
				type: 'input',
				required: true,
				placeholder: 'Street',
				default: 'Irthlingborough Road'
			},
			{
				name: 'street4',
				length: 40,
				type: 'input',
				placeholder: 'Street 4',
				default: ''
			},
			{
				name: 'street5',
				length: 40,
				type: 'input',
				placeholder: 'Street 5',
				default: ''
			},
			{
				name: 'city',
				length: 40,
				type: 'input',
				required: true,
				placeholder: 'City',
				default: 'Wellingborough'
			},
			{
				name: 'district',
				length: 40,
				type: 'input',
				required: true,
				placeholder: 'District',
				default: 'Northamptonshire'
			},
			{		
				name: 'postCode',
				length: 16,
				type: 'input',
				required: true,
				placeholder: 'Post Code',
				default: 'NN8 1LT'
			},
			{
				name: 'telephone',
				length: 32,
				type: 'input',
				required: true,
				placeholder: 'Telephone',
				default: '01933 371000'
				
			},
			{
				name: 'mobilePhone',
				length: 32,
				type: 'input',
				required: true,
				placeholder: 'Mobile phone',
				default: '07000000000'
			},
			{
				name: 'fax',
				length: 32, 
				type: 'input',
				placeholder: 'Fax',
				default: ''
			},
			{
				name: 'emailAddress',
				length: 100,
				type: 'input',
				placeholder: 'Email address',
				default: '@bookertest.co.uk'			
			},
			{
				name: 'prefMail',
				type: 'radio',
				values: yesOrNo,
				required: true,
				placeholder: 'Email Preference',
				default: 'N'
			},
			{
				name: 'prefTelephone',
				type: 'radio',
				values: yesOrNo,
				required: true,
				placeholder: 'Telephone Preference',
				default: 'N'
			},
			{
				name: 'prefEmail',
				type: 'radio',
				values: yesOrNo,
				required: true,
				placeholder: 'Email Preference',
				default: 'N'
			},
			{
				name: 'prefMobile',
				type: 'radio',
				values: yesOrNo,
				required: true,
				placeholder: 'Mobile Preference',
				default: 'N'
			},
			{
				name: 'licenced',
				type: 'radio',
				values: yesOrNo,
				required: true,
				placeholder: 'Alcohol licence',
				default: 'N'
			},
			{
				name: 'canShop',	
				type: 'select',
				values: canShop,
				required: true,
				placeholder: 'Can Shop Value',
				default: 0
			},
			{
				name: 'canDeliver',
				type: 'radio',
				values: yesOrNo,
				required: true,
				placeholder: 'Can Deliver?',
				default: 'N'
			},
			{
				name: 'facia',
				type: 'select',
				values: facia,
				required: true,
				placeholder: 'Facia',
				default: 'NA'
			},
			{
				name: 'classification',
				length: 2,
				type: 'select',
				values: classification,
				required: true,
				placeholder: 'Classification',
				default: '1A'
			},
			{
				name: 'businessType',
				length: 2,
				values: businessType,
				type: 'select',
				placeholder: 'Business Type',
				required: true,
				default: 1,
			},
			{
				name: 'groupSector',
				length: 2,
				type: 'select',
				placeholder: 'Group Sector',
				values: sector,
				required: true,
				default: 1
			},
			{
				name: 'isDel',
				type: 'radio',
				placeholder: 'Is Delete',
				required: true,
				default: 'N'
			},
			{
				name: 'status',
				values: status,
				type: 'select',
				placeholder: 'Status',
				required: true,
				default: 'C'
			},
			{
				name: 'onstop',
				placeholder: 'Onstop',
				type: 'radio',
				required: true,
				default: 'N'
			},
			{
				name: 'sop',
				values: sop,
				required: true,
				type: 'select',
				placeholder: 'SOP Number',
				default: 0
			},
			{
				name: 'nacno', 
				length: 6,
				type: 'input',
				placeholder: 'National Account Number',
				default: '000000'
			},
			{
				name: 'vdd',
				type: 'select',
				required: true,
				placeholder: 'Dropshipment',
				values: yesOrNo,
				default: 'N'
			},
			{
				name: 'prodCd',
				type: 'select',
				placeholder: 'Use PROD CD',
				values: yesOrNo,
				default: 'N'
			},
			{
				name: 'custNo',
				length: 6,
				type: 'input',
				default: '000000'
			},
			{
				name: 'leafletScheme',
				length: 4,
				type: 'input'
			},
			{
				name: 'salesmanCode',
				length: 5,
				type: 'input',
				placeholder: 'Salesperson code',
				default: '00000'
			},
			{
				name: 'tobaccoClub',
				type: 'radio',
				required: true,
				placeholder: 'Tobacco club',
				default: 'N'
			},
			{
				name: 'countryCode',
				type: 'select',
				values: country,
				required: true,
				placeholder: 'Country',
				default: 'EN'
			}
		];

		const heading = {
			stdprice: 'Date,Country Code,Depot Number,Child Article Code,Saleable Unit Code,Weight Type,Number of Items in a Case,Promo Indicator,WSP Collect Price,Local Price Indicator,Standard WSP MIDAS FIELD,Standard WSP Delivered MIDAS FIELD,Start Date,End Date,Delivered Price,Online Exc Price,Click & Collect Price,Spare,Recommended Retail Price,POR,Delivered POR,Online Exclusive POR,Click & Collect POR,Spare POR,MUP WSP Collect Price,MUP Delivered Price,MUP Online Exclusive,MUP Click & Collect,MUP Spare,Promotion No,Prom Collect WSP,Prom Delivered Price,Prom Online Exclusive,Prom Click & Collect,Prom Spare,Pre Promotion Price WSP,Pre Promotion Price Delivered,Pre Promotion Price OE,Pre Promotion Price Click & Collect,Pre Promotion Price Spare,Recommended Retail Price,POR,Delivered POR,Online Exclusive POR,Click & Collect POR,Spare POR,Prom Start Date,Prom End Date',
			fasprice: 'Date,Country Code,Depot Number,Child Article Code,Saleable Unit Code,Weight Type,Number of Items in a Case,Fascia Code,Promotion No,WSP Collect Price,WSP Delivered Price,WSP Online Exclusive,WSP Click & Collect Price,WSP Spare4,Pre Promotion Price WSP,Pre Promotion Price Delivered,Pre Promotion Price OE,Pre Promotion Price Click & Collect,Pre Promotion Price Spare4,Recommended Retail Price,POR,Delivered POR,Online Exclusive POR,Click & Collect POR,Spare POR,Promotion Start,Promotion End',
			clbprice: 'Date,Country Code,Depot Number,Child Article Code,Saleable Unit Code,Weight Type,Number of Items in a Case,Club eg H13333,WSP Collect Price,WSP Delivered Price,WSP OE Price,WSP Click & Collect Price,WSP Spare4,Recommended Retail Price,POR,Delivered POR,OE POR,Click & Collect POR,Spare POR,Start Date, End Date',
			product: 'PRODTRAN-STORE-ID,PRODTRAN-HUB,PRODTRAN-SUCODE,PRODTRAN-ARTICLE-CODE,PRODTRAN-MIDAS-SPLIT-NUM,PRODTRAN-PRICE,PRODTRAN-ITM-IN-SELL-UNT,PRODTRAN-PROMO,PRODTRAN-UNITID,PRODTRAN-RRP,PRODTRAN-PREV-PRC,PRODTRAN-POR,PRODTRAN-ISNEW,PRODTRAN-ISDEL,PRODTRAN-LEAD-TIME-STATUS,PRODTRAN-PRICE-START,PRODTRAN-PRICE-END,PRODTRAN-STORE-ORDER-GROUP,PRODTRAN-LONDIS-ORDER-GROUP',
			productgroup: 'INTPRODG-ARTICLE-CODE,INTPRODG-MIDAS-SPLIT-NUM,INTPRODG-NAME,INTPRODG-CATEGORYID,INTPRODG-PACK-SIZE,INTPRODG-ISDEL,INTPRODG-WEB-PARENT-ARTICLE-CODE,INTPRODG-SUCODE,INTPRODG-LONG-NAME,INTPRODG-WEIGHT-TYPE,INTPRODG-VAT-RATE,INTPRODG-SUPPLIER,INTPRODG-PACKDESC,INTPRODG-IMAGEPAID,INTPRODG-OWNBRAND,INTPRODG-STORAGE-TYPE,INTPRODG-ARTICLE-STATUS,INTPRODG-DELIST-REASON,INTPRODG-PARENT-ARTICLE-CODE,INTPRODG-WEB FLAG,INTPRODG-LONDIS-PROD-CD,INTPRODG-BUDGENS-PROD-CD,INTPRODG-PRICE-MARK-FLAG,INTPRODG-ITM-IN-SELL-UNT,INTPRODG-SHELF-LIFE,INTPRODG-MASTER-MIDAS-CODE,INTPRODG-HFSS-HIGH',
			tnareasons: 'INTTNA-STORE-ID,INTTNA-MASTER_MCODE,INTTNA-REASON_CODE,INTTNA-REPLACEMENT_MASTER_MCODE,INTTNA-AVAILABLE_DATE',
			longtailproductnew: 'SUPPLIER-SUPPNO,MARKETPLACE-PRODUCT-CODE,SUPPLIER-OWN-ITEM-CODE,PRODUCT-DESC,BRAND-NAME,WEIGHTED,PACK-SIZE,STORAGE-TYPE,VAT-RATE%,HANDLING-TIME-DAYS,LAUNCH-DATE,BARCODE,TO-BE-SOLD-ON-WEBSITE,ITEM-IN-SELL-UNIT,WSP,RRP,WEIGHT,PRICE-PER-KG,POR,DATE-PRODUCT-LOADED,STATUS,INCOMPLETE-DATE,IN-REVIEW-DATE,SCHEDULED-DATE,LIVE-DATE,BOOKER-DELISTED-DATE,SUSPENDED-DATE,REJECTED-DATE,SUPPLIER-DELETE-DATE,WEB-SHELF-CODE,WEB-SHELF-DESC,WEB-AISLE-CODE,WEB-AISLE-DESC,WEB-DEPARTMENT-CODE,WEB-DEPARTMENT-DESC',
			barcode: 'INTBARCD-BARCD,BARCODE-TYPE,CONSUMER-BARCODE-FLAG,PRIMARY-BARCODE-FLAG,INTBARCD-SPACES,INTBARCD-ARTICLE-CODE,INTPRODG- ISDEL',
			pricelist: 'PRCLIST-NACNO,PRCLIST-SUCODE,PRCLIST-ARTICLE-CODE,PRCLIST-PRICE,PRCLIST-ITM-IN-SELL-UNT,PRCLIST-UNITID,PRCLIST-CUST-OWN-CODE,PRCLIST-ISDEL,PRCLIST-RSP',
			category: 'INTCTGRY-CATEGORYID,INTCTGRY-PARENTID,INTCTGRY-NAME,INTPRODG-ISDEL,CATEGORY-TRANS-RECORD,INTCTGRY-CATEGORYID,INTCTGRY-PARENTID,INTCTGRY-NAME,INTPRODG-ISDEL,CATEGORY-TRANS-RECORD,INTCTGRY-CATEGORYID,INTCTGRY-PARENTID,INTCTGRY-NAME,INTPRODG-ISDEL',
			barrcat: 'EXCCTGRY-NACNO,EXCCTGRY-CATEGORYID',
			promo: 'INTPROMO-PROMO-ID,INTPROMO-CAMPAIGN-ID,INTPROMO-TYPE,INTPROMO-IMAGE-ID,INTPROMO-DESC,INTPROMO-START-DATE,INTPROMO-START-TIME,INTPROMO-END-DATE,INTPROMO-END-TIME,INTPROMO-LOYALITY-CLB-ONLY,INTPROMO-IS-ONE-TIME,INTPROMO-ISDEL',
			promoset: 'INTPRSET-SET-ID,INTPRSET-PROMO-ID,INTPRSET-QUANTITY,INTPRSET-MAX-QUANT,INTPRSET-LOYALITY-POINTS-RWD,INTPRSET-REDUCTION,INTPRSET-DISCOUNT-QTY,INTPRSET-DISCOUNT,INTPRSET-COST-THRESHOLD,INTPRSET-COST-MULTIPLIER,INTPRSET-COST-FROM,INTPRSET-COST-TO,INTPRSET-COUPON-PROM-ID,INTPRSET-ISDEL',
			promotostore: 'INTPRDEP-STORE-ID,INTPRDEP-PROMO-ID,INTPRDEP-ISDEL',
			productinpromoset: 'INTPRDPR-SET-ID,INTPRDPR-SUCODE,INTPRDPR-ISDEL',
			customer: 'INTCUST-CUSTNO,INTCUST-WEB-BRANCH-ID,INTCUST-HOME-BRANCH,INTCUST-TITLE,INTCUST-SURNAME,INTCUST-FIRSTNAME,INTCUST-TRADING-NAME,INTCUST-STREET2,INTCUST-STREET3,INTCUST-HOUSE-NUMBER,INTCUST-STREET,INTCUST-STREET4,INTCUST-STREET5,INTCUST-CITY,INTCUST-DISTRICT,INTCUST-POSTCODE,INTCUST-TELEPHONE,INTCUST-MOBILE-PHONE,INTCUST-FAX,INTCUST-EMAIL-ADDRESS,INTCUST-CON-PREF-MAIL,INTCUST-CON-PREF-TELEPHONE,INTCUST-CON-PREF-EMAIL,INTCUST-CON-PREF-MOBILE,INTCUST_LICENCED,INTCUST-CAN-SHOP,INTCUST-CAN-DELIVER,INTCUST-FACIA-TYPE,INTCUST-CLASSIFICATION,INTCUST-BUSINESS-TYPE,INTCUST-GROUP-SECTOR,INTCUST-ISDEL,INTCUST-STATUS,INTCUST-ONSTOP-FLAG,INTCUST-SOP-FLAG,INTCUST-NACNO,DS_VDD_FLAG,INTCUST-USE-PROD-CD,INCUST-BRP-CUST-NO,INCUST-BRP-LEAFLET-SCHEME,INCUST-SALESMAN-CODE,INCUST-TOBACCO-CLUB,INCUST-COUNTRY-CODE',
			custrec: 'INTCUST-CUSTNO,INTCUST-DATA.,INTCUST-WEB-BRANCH-ID,INTCUST-BUSINESS-OWNER-NAME,INTCUST-TITLE,INTCUST-SURNAME,INTCUST-FIRSTNAME,INTCUST-TRADING-NAME,INTCUST-STREET2,INTCUST-STREET3,INTCUST-HOUSE-NUMBER,INTCUST-STREET,INTCUST-STREET4,INTCUST-STREET5,INTCUST-CITY,INTCUST-DISTRICT,INTCUST-POSTCODE,INTCUST-TELEPHONE,INTCUST-MOBILE-PHONE,INTCUST-FAX,INTCUST-EMAIL-ADDRESS,INTCUST-CON-PREF-MAIL,INTCUST-CON-PREF-TELEPHONE,INTCUST-CON-PREF-EMAIL,INTCUST-CON-PREF-MOBILE,INTCUST_LICENCED,INTCUST-CLASSIFICATION,INTCUST-STATUS,INTCUST-VAT-REG-NO,INTCUST-NEW-CUSTOMER-TYPE,INTCUST-CUSTOMER-REFERRED-BY,INTCUST-CHARITY-NUMBER,INTCUST-DATE-TERMS-ACCEPTED,INTCUST-REGISTERED-BY,INTCUST-WEB-TITLE,INTCUST-WEB-FIRSTNAME,INTCUST-WEB-SURNAME,INTCUST-WEB-EMAIL-ADDRESS,INTCUST-CAN-EMAIL,INTCUST-AFILIATED-CAN-EMAIL,INTCUST-WEB-WEB-SECTOR,INTCUST-WEB-DATE-REGISTERED,INTCUST-DATE-CHANGED,INTCUST-TIME-CHANGED,INTCUST-FACIA-TYPE,PAPER-COPY-STATEMENT-FLAG,DS-ACTIVE-FLAG,DS-DATE-ACTIVE,DS-DATE-INACTIVE',
			orders: {
				fh: 'INTCORD-FH-RECTYPE,INTCORD-FH-FILE-NUM,INTCORD-FH-FILE-DATE,INTCORD-FH-FILE-TIME', 
				oh: 'INTCORD-OH-RECTYPE,INTCORD-OH-STORE-ID,INTCORD-OH-CUSTNO,INTCORD-OH-ORDER-TYPE,INTCORD-OH-ORDER-NUM,INTCORD-OH-ORDER-DATE,INTCORD-OH-ORDER-TIME,INTCORD-OH-CARD-PAID,INTCORD-OH-AUTH-AMOUNT,INTCORD-OH-AUTH-EXPIRY,INTCORD-DELIVERY-DATE,INTCORD-ORDER-SOURCE,INTCORD-CUST-PO-NBR,INTCORD-COLLECTION-TIME,INTCORD-MOBILE-NUM,INTCORD-COLLECT-DELIVERED,INTCORD-E-MAIL REQUIRED,SUPPLIER-SUPPNO,INTCORD-STORE-ORDER-GROUP,INTCORD-LONDIS-ORDER-GROUP,INTCORD-OH-PAYMENT-TOKEN-ID-LENGTH,INTCORD-OH-PAYMENT-TOKEN-ID,INTCORD-OH-TRANSACTION-IDENTIFIER-LENGTH,INTCORD-OH-TRANSACTION-IDENTIFIER',
				od: 'INTCORD-OD-RECTYPE,INTCORD-OD-SUCODE,INTCORD-OD-DESC,INTCORD-OD-ITM-IN-SELL-UNT,INTCORD-OD-PCK-SIZE,INTCORD-OD-QUANTITY,INTCORD-OD-NOTES,INTCORD-OD-PRICE,SUPPLIER-OWN-ITEM-CODE,MARKETPLACE-PRODUCT-CODE',
				oc: 'INTCORD-OC-RECTYPE,INTCORD-OC-COMMENT-TYPE,INTCORD-OC-COMMENT,INTCORD-OC-RECTYPE,INTCORD-OC-COMMENT-TYPE,INTCORD-OC-COMMENT,INTCORD-OC-RECTYPE,INTCORD-OC-COMMENT-TYPE,INTCORD-OC-COMMENT,INTCORD-OC-RECTYPE,INTCORD-OC-COMMENT-TYPE,INTCORD-OC-COMMENT',
				ot: 'INTCORD-OT-RECTYPE,INTCORD-OT-DEPOT,INTCORD-OT-CUSTOMER-NUM,INTCORD-OT-ORDER-NUM,INTCORD-OT-DET-LINE-CNT',
				fl: 'INTCORD-FL-RECTYPE,INTCORD-FL-FILE-NUM,INTCORD-FL-ORDERS-CNT'   
			},
			confirm: 'INTSETT-STORE-ID,INTSETT-CUSTOMER-NUM,INTSETT-ORDER-NUM,INTSETT-TOTAL-INC-VAT,INTSETT-CARD-TYPE,INTSETT-CONF_IND,INTSETT-DATE,INTSETT-TIME',
			depot: 'INTDEPOT-STORE,INTDEPOT-STORE-ID,INTDEPOT-HUB-ID,INTDEPOT-NAME,INTDEPOT-ADDR1,INTDEPOT-ADDR2,INTDEPOT-ADDR3,INTDEPOT-ADDR4,INTDEPOT-ADDR5,INTDEPOT-ADDR6,INTDEPOT-CONTACT,INTDEPOT-EMAIL,INTDEPOT-TEL,INTDEPOT-FAX,INTDEPOT-ISDEL,INTDEPOT-COUNTRY',
			ohrs: 'INTOHRS-STORE,INTOHRS-STORE-ID,INTOHRS-TW-WC,INTOHRS-TW-MON-OPEN-HR,INTOHRS-TW-MON-CLOSE-HR,INTOHRS-TW-TUE-OPEN-HR,INTOHRS-TW-TUE-CLOSE-HR,INTOHRS-TW-WED-OPEN-HR,INTOHRS-TW-WED-CLOSE-HR,INTOHRS-TW-THU-OPEN-HR,INTOHRS-TW-THU-CLOSE-HR,INTOHRS-TW-FRI-OPEN-HR,INTOHRS-TW-FRI-CLOSE-HR,INTOHRS-TW-SAT-OPEN-HR,INTOHRS-TW-SAT-CLOSE-HR,INTOHRS-TW-SUN-OPEN-HR,INTOHRS-TW-SUN-CLOSE-HR,INTOHRS-NW-WC,INTOHRS-NW-MON-OPEN-HR,INTOHRS-NW-MON-CLOSE-HR,INTOHRS-NW-TUE-OPEN-HR,INTOHRS-NW-TUE-CLOSE-HR,INTOHRS-NW-WED-OPEN-HR,INTOHRS-NW-WED-CLOSE-HR,INTOHRS-NW-THU-OPEN-HR,INTOHRS-NW-THU-CLOSE-HR,INTOHRS-NW-FRI-OPEN-HR,INTOHRS-NW-FRI-CLOSE-HR,INTOHRS-NW-SAT-OPEN-HR,INTOHRS-NW-SAT-CLOSE-HR,INTOHRS-NW-SUN-OPEN-HR,INTOHRS-NW-SUN-CLOSE-HR',
			supplier: 'SUPPLIER-SUPPNO,SUPPLIER-SUPPNAME,SUPPLIER-SUPPSTATUS,SUPPLIER-STREET-2,SUPPLIER-STREET-3,SUPPLIER-STREET-NO,SUPPLIER-STREET-4,SUPPLIER-STREET-5,SUPPLIER-TOWN,SUPPLIER-COUNTY,SUPPLIER-POSTCODE,SUPPLIER-CONTACT-TITLE,SUPPLIER-CONTACT-INITS,SUPPLIER-CONTACT-SURNAME,SUPPLIER-TELEPHONE,SUPPLIER-MOBILE-PHONE,SUPPLIER-LT-EMAIL,SUPPLIER-LONGTAIL-TYPE',
			longtailsupplier: 'SUPPLIER-SUPPNO,SUPPLIER-LONGTAIL-TYPE,MIN-ORDER-QTY,MIN-ORDER-VAL,MIN-ORDER-RULE-FLAG,PRICE-ON-DELIVERY-OR-ORDER,LT_EMAIL,ORDER_COLLECTION_METHOD,LT_ORDER_EMAIL,LT_TELEPHONE',
			dropshipsuppcust: 'INTCUST-CUSTNO,SUPPLIER-SUPPNO,SUPP-CUST-RELATIONSHIP-STATUS,CUSTOMER-REQUEST-DT,APPROVAL-DT,DISAPPROVED-DT',
			natacc: 'INTNAC-NACNO,INTNAC-NAME,INTNAC- BUSINESS NAME,INTNAC-PRICE-MARK,INTNAC-EXTRA-FILL,INTNAC-SUBS,INTNAC-ORDER-OUTSIDE-RANGE',
			brpschedule: 'ORDCUT-CUSTNO,ORDCUT-FACIA-TYPE,ORDCUT-STORE-ORDER-GROUP,ORDCUT-LONDIS-ORDER-GROUP,ORDCUT-WK-COM-DATE,ORDCUT-CUT-OFF-DATE,ORDCUT-CUT-OFF-TIME,ORDCUT-SOURCE-TIME,ORDCUT-DELIVERY-DATE,ORDCUT-DELIVERY-TIME',
			brpstatements: 'INTBRPSTATEMENTS-CUSTOMER-NUMBER,INTBRPSTATEMENTS-STATEMENT-DATE,INTBRPSTATEMENTS-STATEMENT-NUMBER,INTBRPSTATEMENTS-VAT-INVOICE-NUMBER,INTBRPSTATEMENTS-INVOICE-TOTAL-GOODS-THIS-WEEK,INTBRPSTATEMENTS-PAYMENT-DUE-DATE',
			dropshipsummary: 'DSRS-STORE-ID,DSRS-CUSTNO,DSRS-STATEMENT-DATE,DSRS-TOTAL GOODS,DSRS-TOTAL-VAT,DSRS-INVOICE-TOTAL,DSRS-INVOICE-COUNT',
			history: 'INTPURCH-INVOICE-DATE,INTPURCH-STORE-ID,INTPURCH-SUCODE,INTPURCH-CUSTNO,INTPURCH-QUANTITY',
			bestsellers: 'INTCATSET-GROUP-SECTOR,INTCATSET-SUCODE,INTCATSET-QUANTITY',
			vatsummary: 'INTSUMM-STORE-ID,INTSUMM-CUSTNO,INTSUMM-DATE,INTSUMM-HOUR,INTSUMM-MINS,INTSUMM-INVOICE-NO,INTSUMM-PO-NO,INTSUMM-VAT-RATE-A,SIGN,INTSUMM-VAT-A-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-A-VAT-AMOUNT,INTSUMM-VAT-RATE-B,SIGN,INTSUMM-VAT-B-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-B-VAT-AMOUNT,INTSUMM-VAT-RATE-C,SIGN,INTSUMM-VAT-C-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-C-VAT-AMOUNT,INTSUMM-VAT-RATE-D,SIGN,INTSUMM-VAT-D-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-D-VAT-AMOUNT,INTSUMM-VAT-RATE-E,SIGN,INTSUMM-VAT-E-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-E-VAT-AMOUNT,SIGN,INTSUMM-TOTAL-NET,SIGN,INTSUMM-TOTAL-VAT,SIGN,INTSUMM-TOTAL-INVOICE,SIGN,INTSUMM-TOTAL-QTY',
			sapvatsummary: 'INTSUMM-STORE-ID,INTSUMM-CUSTNO,INTSUMM-DATE,INTSUMM-HOUR,INTSUMM-MINS,INTSUMM-INVOICE-NO,INTSUMM-PO-NO,INTSUMM-VAT-RATE-A,SIGN,INTSUMM-VAT-A-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-A-VAT-AMOUNT,INTSUMM-VAT-RATE-B,SIGN,INTSUMM-VAT-B-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-B-VAT-AMOUNT,INTSUMM-VAT-RATE-C,SIGN,INTSUMM-VAT-C-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-C-VAT-AMOUNT,INTSUMM-VAT-RATE-D,SIGN,INTSUMM-VAT-D-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-D-VAT-AMOUNT,INTSUMM-VAT-RATE-E,SIGN,INTSUMM-VAT-E-TOTAL-EX-VAT,SIGN,INTSUMM-VAT-E-VAT-AMOUNT,SIGN,INTSUMM-TOTAL-NET,SIGN,INTSUMM-TOTAL-VAT,SIGN,INTSUMM-TOTAL-INVOICE,SIGN,INTSUMM-TOTAL-QTY',
			longtailsummary: 'LTSUMM-STORE-ID,LTSUMM-CUSTNO,LTSUMM-DATE,LTSUMM-SUPPLIER-INVOICE-NO,LTSUMM-SUPPLIER-SUPPNO,LTSUMM-PO-NO,LTSUMM-VAT-RATE-A,SIGN,LTSUMM-VAT-A-TOTAL-EX-VAT,SIGN,LTSUMM-VAT-A-VAT-AMOUNT,LTSUMM-VAT-RATE-B,SIGN,LTSUMM-VAT-B-TOTAL-EX-VAT,SIGN,LTSUMM-VAT-B-VAT-AMOUNT,LTSUMM-VAT-RATE-C,SIGN,LTSUMM-VAT-C-TOTAL-EX-VAT,SIGN,LTSUMM-VAT-C-VAT-AMOUNT,LTSUMM-VAT-RATE-D,SIGN,LTSUMM-VAT-D-TOTAL-EX-VAT,SIGN,LTSUMM-VAT-D-VAT-AMOUNT,LTSUMM-VAT-RATE-E,SIGN,LTSUMM-VAT-E-TOTAL-EX-VAT,SIGN,LTSUMM-VAT-E-VAT-AMOUNT,SIGN,LTSUMM-RTOTAL-QTY',
			spendandsave: 'PERIOD NO,CUSTOMER NO,LINKED,TOTAL SPEND,TOB TOTAL SPEND,NONTOB TOTAL SPEND,CURR BAND NTOB,TOTAL REBATE,NTOB SPEND TO NEXT BAND,END OF PERIOD DATE,NEXT BAND NTOB PCT,EXTRA REBATE,NEXT BAND NTOB (Value),LAST TRADE DATE,MAXIMUM BAND SIZE,CURR BAND NTOB DEC,LP-TOTAL SPEND,LP-TOB TOTAL SPEND,LP-NONTOB TOTAL SPEND,LP-CURR BAND NTOB,LP-TOTAL REBATE,TESCO-TOTAL-REBATE,TESCO-LP-TOTAL-REBATE,TESCO-CURR-BAND,TESCO-LP-BAND,TESCO-CURR-SPEND,TESCO-LP-TOTAL-SPEND,TESCO-CURR-QUALIFYING-SPEND,TESCO-LP-QUALIFYING-SPEND,TESCO-PERIOD-NO,TESCO-END-OF-PERIOD-DATE,TESCO-END-OF-DATA-CHAR',
			webcustpref: 'INTPREF-ZCUSTOMER,INTPREF-CDATE,IN TPREF-CTIME,INTPREF-ZBOOK_POST,INTPREF-ZTP_POST,INTPREF-ZBOOK_PHONE,INTPREF-ZTP_PHONE,INTPREF-ZBOOK_EMAILID1,INTPREF-ZBOOK_EMAIL1,INTPREF-ZTP_EMAIL1,INTPREF-ZCHANGE_DATE_EMAIL1,INTPREF-ZBOOK_EMAILID2,INTPREF-ZBOOK_EMAIL2,INTPREF-ZTP_EMAIL2,INTPREF-ZCHANGE_DATE_EMAIL2,INTPREF-ZBOOK_WMAIL,INTPREF-ZTP_WMAIL,INTPREF-ZCHANGE_DATE_WMAIL,INTPREF-ZBOOK_SMSNO1,INTPREF-ZBOOK_SMS1,INTPREF-ZTP_SMS1,INTPREF-ZBOOK_SMSNO2,INTPREF-ZCUST_GUID,INTPREF-ZECONOPID,INTPREF-ZRTFACILITYID,INTPREF-ZTOBSALES',
			sapcustpref: 'INTPREF-ZCUSTOMER,INTPREF-CDATE,IN TPREF-CTIME,INTPREF-ZBOOK_POST,INTPREF-ZTP_POST,INTPREF-ZBOOK_PHONE,INTPREF-ZTP_PHONE,INTPREF-ZBOOK_EMAILID1,INTPREF-ZBOOK_EMAIL1,INTPREF-ZTP_EMAIL1,INTPREF-ZCHANGE_DATE_EMAIL1,INTPREF-ZBOOK_EMAILID2,INTPREF-ZBOOK_EMAIL2,INTPREF-ZTP_EMAIL2,INTPREF-ZCHANGE_DATE_EMAIL2,INTPREF-ZBOOK_WMAIL,INTPREF-ZTP_WMAIL,INTPREF-ZCHANGE_DATE_WMAIL,INTPREF-ZBOOK_SMSNO1,INTPREF-ZBOOK_SMS1,INTPREF-ZTP_SMS1,INTPREF-ZBOOK_SMSNO2,INTPREF-ZCUST_GUID,INTPREF-ZECONOPID,INTPREF-ZRTFACILITYID,INTPREF-ZTOBSALES',
			claims: 'CLAIM-HD-RECTYPE,CLAIM-HD-REFERENCE,CLAIM-HD-CUSTNO,CLAIM-HD-INVOICE-NO,CLAIM-HD-CREATION-DATE,CLAIM-HD-CREATION-TIME,CLAIM-HD-USER-E-MAIL,CLAIM-HD-STATUS,CLAM-HD-WHO-RAISED-CLAIM-IND,CLAIM-HD-WEB-VALIDATED-FLAG,CLAIM-DL-RECTYPE,CLAIM-DL-LINE-NO,CLAIM-DL-SUCODE,CLAIM-DL-CASE-QTY,CLAIM-DL-UNIT-QTY,CLAIM-DL-REASON-CODE,CLAIM-DL-SUB-REASON-CODE,CLAIM-DL-ADD_INFO,CLAIM-DL-COLLECT-REQ-FLAG,CLAIM-DL-PHOTO-URL,CLAIM-DL-STATUS',
			claimstatus: 'CLSTAT-HD-REFERENCE,CLSTAT-HD-STATUS,CLSAT-CL-LINE-NO,CLSAT-CL-SUCODE,CLSAT-CL-VALUE,CLSTAT-CL-STATUS-CODE,CLSTAT-CL-STATUS-REASON-CODE,CLSTAT-CL-STATUS-SUB-REASON-CODE,CLSTAT-CL-ADD-INFO,CLSTAT-CL-DC-COMMENTS,CLSTAT-APP-DATE,CLSTAT-APP-TIME,CLSTAT-CHG-DATE,CLSTAT-CHG-TIME,CLAIM-DL-CASE-QTY,CLAIM-DL-UNIT-QTY',
			enhancedhistory: 'INTEPURCH-HD-INVOICE-DATE,INTEPURCH-HD-INVOICE-NO,INTEPURCH-HD-STORE-ID,INTEPURCH-HD-CUSTNO,INTEPURCH-HD-CUST-CAT-CD,INTEPURCH-HD-TILL-TIME,INTEPURCH-HD-DEL-IND,INTEPURCH-HD-SOP-FLAG,INTEPURCH-HD-ORDER-METHOD,INTEPURCH-HD-PICK-METHOD,INTEPURCH-HD-AUTO-INV,INTEPURCH-HD-PO-ORDER-NO,INTEPURCH-HD-HOW-BOOKED-IN,INTEPURCH-HD-ORDER-STOCK-TYPE,INTEPURCH-DL-SUCODE,INTEPURCH-DL-INV-LINE-TYPE,INTEPURCH-DL-QUANTITY,INTEPURCH-DL-LOCAL-SELL-VALUE,INTEPURCH-TOTAL-UNITS,INTEPURCH-ONLINE-EXC-IND,INTEPURCH-TOTAL-UNITS',
			hfss: 'BARCODE,BRAND,DESCRIPTION,HFSS-INDICATOR,SIGN,NUTRIENT-PROFILE-SCORE,FOOD-CATEGORY,HFSS-FOOD-OR-DRINK',
			custpref: 'INTPREF-ZCUSTOMER,INTPREF-CDATE,INTPREF-CTIME,INTPREF-ZBOOK_POST,INTPREF-ZTP_POST,INTPREF-ZBOOK_PHONE,INTPREF-ZTP_PHONE,INTPREF-ZBOOK_EMAILID1,INTPREF-ZBOOK_EMAIL1,INTPREF-ZTP_EMAIL1,INTPREF-ZCHANGE_DATE_EMAIL1,INTPREF-ZBOOK_EMAILID2,INTPREF-ZBOOK_EMAIL2,INTPREF-ZTP_EMAIL2,INTPREF-ZCHANGE_DATE_EMAIL2,INTPREF-ZBOOK_WMAIL,INTPREF-ZTP_WMAIL,INTPREF-ZCHANGE_DATE_WMAIL,INTPREF-ZBOOK_SMSNO1,INTPREF-ZBOOK_SMS1,INTPREF-ZTP_SMS1,INTPREF-ZBOOK_SMSNO2,INTPREF-ZCUST_GUID,INTPREF-ZECONOPID,INTPREF-ZRTFACILITYID,INTPREF-ZTOBSALES',
			datafeed: 'PERSONNEL-NUMBER,TITLE,FIRST-NAME,LAST-NAME,KNOWN-AS,BIRTH-DATE,ROLE,POSITION-ENTRY-DATE,BAND,LOCATION,COST-CENTRE,DEPARTMENT,LOCATION,PAYROLL-AREA,PAYROLL-STATUS,START-DATE,LEAVE-DATE,LINE-MANAGER-PERSONNEL-NUMBER,LINE-MANAGER-NAME,EMAIL-ADDRESS,PERMANENT-CONTRACT-INDICATOR,UNIQUE-REGISTRATION-NUMBER,GENDER-KEY,STREET-AND-HOUSE-NUMBER,SECOND-ADDRESS-LINE,CITY,DISTRICT,POST-CODE,PERSONAL-EMAIL-ADDRESS,HOME-PHONE-NUMBER,MOBILE-PHONE-NUMBER,EMERGENCY-CONTACT-NAME,EMERGENCY-CONTACT-RELATIONSHIP,EMERGENCY-CONTACT-PHONE,EMERGENCY-ADDRESS-LINE-1,EMERGENCY-ADDRESS-LINE-2,EMERGENCY-ADDRESS-LINE-3,EMERGENCY-ADDRESS-LINE-4,EMERGENCY-ADDRESS-LINE-5,BANK-SORT-CODE,BANK-ACCOUNT,BSOC-ROLL-NO,NAME-ON-BANK-ACCOUNT,PENSION-GROUP-1,PENSION-GROUP-1-PERC,PENSION-AUTO-ENROLMENT,NOMINEE-TITLE-1,NOMINEE-ADDRESS1-1,NOMINEE-TELEPHONE-1,NOMINEE-DATE-OF-BIRTH-1,NOMINEE-SHARE-1,NOMINEE-TITLE-2,NOMINEE-ADDRESS1-2,NOMINEE-TELEPHONE-2,NOMINEE-DATE-OF-BIRTH-2,NOMINEE-SHARE-2,NOMINEE-TITLE-3,NOMINEE-ADDRESS1-3,NOMINEE-TELEPHONE-3,NOMINEE-DATE-OF-BIRTH-3,NOMINEE-SHARE-3,NOMINEE-TITLE-4,NOMINEE-ADDRESS-4,NOMINEE-TELEPHONE-4,NOMINEE-DATE-OF-BIRTH-4,NOMINEE-SHARE-4,NOMINEE-TITLE-5,NOMINEE-ADDRESS-5,NOMINEE-TELEPHONE-5,NOMINEE-DATE-OF-BIRTH-5,NOMINEE-SHARE-5,HEALTHCARE-1,HEALTHCARE-2,BOOKER-CUSTOMER-NUMBER,HOME-BRANCH'
		}

		const pattern = {
			datafeed: {
				regex: /^(.{8})(.{15})(.{40})(.{40})(.{40})(.{10})(.{40})(.{10})(.{2})(.{19})(.{10})(.{15})(.{20})(.{2})(.{40})(.{10})(.{10})(.{12})(.{25})(.{241})(.{12})(.{10})(.{60})(.{60})(.{40})(.{40})(.{40})(.{10})(.{241})(.{14})(.{20})(.{60})(.{20})(.{14})(.{60})(.{60})(.{60})(.{60})(.{60})(.{15})(.{18})(.{16})(.{40})(.{4})(.{4})(.{4})(.{30})(.{60})(.{14})(.{10})(.{3})(.{30})(.{60})(.{14})(.{10})(.{3})(.{30})(.{60})(.{14})(.{10})(.{3})(.{30})(.{60})(.{14})(.{10})(.{3})(.{4})(.{4})(.{20})(.{4})$/d,
				length: 70
			},
			stdprice: {
					regex: /^(\d{8})([A-Z]{2})(\d{3})(\d{6})(\d{6})([A-Z])(\d{5,7}\.\d{2})([A-Z0]|\s)(\d{5,7}\.\d{2})([A-Z]|\s)(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{8})(\d{8})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})([A-Z]\d{4}|\s+)(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{8})(\d{8})$/d,
					length: 48
				},
				fasprice: {
					regex: /^(\d{8})([A-Z]{2})(\d{3})(\d{6})(\d{6})([A-Z])(\d{5,7}\.\d{2})([A-Z]{2})(\w{5})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{8})(\d{8})$/d,
					length: 27
				},
				clbprice: {
					regex: /^(\d{8})([A-Z]{2})(\d{3})(\d{6})(\d{6})([A-Z])(\d{5,7}\.\d{2})(\w{6})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{5,7}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{2}\.\d{2})(\d{8})(\d{8})$/d,
					length: 21
				}, 
				product: {
					regex: /^(.{3})(.{2})(.{6})(.{6})(.{3})(?<decimal1_2>[^.]{8})(?<decimal2_3>[^.]{6})(.{1})(.{6})(?<decimal3_2>[^.]{8})(?<decimal4_2>[^.]{8})(?<decimal5_2>[^.]{4})(.{1})(.{1})(.{1})(.{8})(.{8})(.{2})(.{1})$/d,
					length: 19
				},
				productgroup: {
					regex: /^(.{6})(.{3})(.{30})(.{6})(.{12})(.{1})(.{6})(.{6})(.{60})(.{1})(.{1})(.{7})(.{35})(.{1})(.{1})(.{1})(.{2})(.{1})(.{6})(.{1})(.{8})(.{9})(.{1})(?<decimal1_3>[^.]{8})(.{3})(.{6})(.{1})$/d,
					length: 27
				},
				customer: {
					regex: /^(.{9})(.{3})(.{3})(.{8})(.{40})(.{40})(.{40})(.{40})(.{40})(.{10})(.{60})(.{40})(.{40})(.{40})(.{40})(.{16})(.{32})(.{32})(.{32})(.{100})(.{1})(.{1})(.{1})(.{1})(.{1})(.{1})(.{1})(.{2})(.{2})(.{2})(.{2})(.{1})(.{1})(.{1})(.{1})(.{6})(.{1})(.{1})(.{6})(.{4})(.{5})(.{1})(.{2})$/,
					length: 43
				},
				spendandsave: {
					regex: /^(.{6})(.{9})(.{3})(.{11})(.{11})(.{11})(.{3})(.{8})(.{8})(.{8})(.{3})(.{8})(.{6})(.{8})(.{3})(.{5})(.{11})(.{11})(.{11})(.{3})(.{8})(.{8})(.{8})(.{3})(.{3})(.{11})(.{11})(.{11})(.{11})(.{6})(.{8})(.{1})$/,
					length: 32
				},
				longtailproductnew: {
					regex: /^(.{7})(.{7})(.{15})(.{100})(.{30})(.{1})(.{12})(.{1})(?<decimal1_3>[^.]{6})(.{2})(.{8})(.{15})(.{1})(?<decimal2_3>[^.]{6})(?<decimal3_2>[^.]{8})(?<decimal4_2>[^.]{8})(?<decimal5_2>[^.]{6})(?<decimal6_2>[^.]{8})(?<decimal7_2>[^.]{4})(.{8})(.{1})(.{8})(.{8})(.{8})(.{8})(.{8})(.{8})(.{8})(.{8})(.{6})(.{40})(.{6})(.{40})(.{6})(.{40})$/d,
					length: 35
				},
				tnareasons: {
					regex: /^(.{3})(.{6})(.{1})(.{6})(.{8})$/d,
					length: 5
				},
				custpref: {
					regex: /^(.{9})(.{8})(.{6})(.{1})(.{1})(.{1})(.{1})(.{100})(.{1})(.{1})(.{8})(.{100})(.{1})(.{1})(.{8})(.{1})(.{1})(.{8})(.{32})(.{1})(.{1})(.{32})(.{36})(.{17})(.{32})(.{36})$/d,
					length: 26
				},
				orders: {
					fh: {
						regex: /^(.{2})(.{8})(.{8})(.{4})$/d,
						length: 4
					},
					oh: {
						regex: /^(.{2})(.{5})(.{9})(.{1})(.{10})(.{8})(.{4})(.{1})(?<decimal1_2>[^.]{8})(.{8})(.{8})(.{1})(.{12})(.{4})(.{32})(.{1})(.{1})(.{7})(.{2})(.{1})(.{2})(.{21})(.{2})(.{56})$/d,
						length: 24
					},
					od: {
						regex: /^(.{2})(.{6})(.{28})(.{4})(.{7})(.{5})(.{255})(?<decimal1_2>[^.]{8})(.{15})(.{7})$/d,
						length: 10
					},
					oc: {
						regex: /^(.{2})(.{1})(.{1,254})$/d,
						length: 3
					},
					ot: {
						regex: /^(.{2})(.{5})(.{9})(.{11})(.{5})$/d,
						length: 5
					},
					ft: {
						regex: /^(.{2})(.{8})(.{8})$/d,
						length: 3
					}
				},
				bestsellers: {
					regex: /^(.{2})(.{6})(.{7})$/d,
					length: 3
				},
				claimstatus: {
					regex: /^(.{11})(.{2})(.{4})(.{6})(.{10})(.{2})(.{2})(.{2})(.{150})(.{150})(.{8})(.{6})(.{8})(.{6})(.{6})(.{6})$/d,
					length: 16
				},
				pricelist: {
					regex: /^(.{6})(.{6})(.{6})(?<decimal1_2>[^.]{6})(?<decimal2_3>[^.]{6})(.{1})(.{15})(.{1})(?<decimal3_2>[^.]{6})$/d,
					length: 9
				},
				promo: {
					regex: /^(.{10})(.{10})(.{4})(.{10})(.{255})(.{12})(.{8})(.{12})(.{8})(.{1})(.{1})(.{1})$/d,
					length: 12
				},
				promoset: {
					regex: /^(.{10})(.{10})(.{9})(.{9})(.{10})(.{9})(.{9})(.{9})(.{9})(.{9})(.{9})(.{9})(.{10})(.{1})$/d,
					length: 14
				},
				promotostore: {
					regex: /^(.{10})(.{10})(.{1})$/d, 
					length: 3
				},
				productinpromoset: {
					regex: /^(.{10})(.{10})(.{1})/d,
					length: 3
				},

		}
		let convertedValues = [];
		let convertedValuesIndexes = [];
	
	const decimalValue = (decimal, value) => {
		return parseFloat(value).toFixed(decimal);
	}

	const captureGroupString = (length) => {
		if (length == 0 || length == undefined) {
			return '';
		} else {
			let groups = captureGroupString(length - 1);
			groups += '$'+length+',';
			return groups;
		}
	}

	const processDecimalValues = (groups, groupIndices, matches) => {
		
		Object.entries(groups).map(val => {
			let decimal = val[0].split('_')[1];
			convertedValues.push(parseFloat(val[1].slice(0, -decimal) + '.' + val[1].slice(-decimal)));
		});
		groupIndices.map(group => {
			matches.indices.map((match, k) => {
				if (JSON.stringify(group) == JSON.stringify(match)) {
					convertedValuesIndexes.push(k);
				}
			});
		});
	}

	/* helper function to convert a line with the given regex, useful especially for the Orders Interface */
	const convertLine = (line, regex, groups) => {
		return line.replace(regex, groups);
	}

	/* claims is different as well? haven't seen the data for this yet so this is a placeholder at the moment */
	const processClaimsInterface = () => {

	}

	/* Order interface is a lot different to the others */
	const processOrderInterface = (heading, lines, type) => {
		let ordersData = [];
		let headerIndexes = [];
		let headerLine = [];
		/* for orders we need to combine order header line to each order detail, ie each header can contain multiple order details lines */
		ordersData.push(heading['oh'] + ',' + heading['od'] + '\n');
		lines.filter(function(l) {
			return l != 'ft' && l != 'fh' && l.length != 0;			
		}).map(function(line, i) {
			let header = line.substring(0, 2).toLowerCase();
			let interfaceLength = pattern[type][header].length;
					
			let regex = pattern[type][header].regex;

	
			
			let captureGroups = captureGroupString(interfaceLength).slice(0, -1);
					
			let matches = regex.exec(line);

			let currentLine = convertLine(line, regex, captureGroups);

			/* need a way to construct the lines, to add each oh type line to od type */
			if (header == 'oh') {
				headerIndexes.push(i);
			} 
			
			let groupIndices = matches.indices.groups ? Object.values(matches.indices.groups) : null;
			let groups = matches.groups ? matches.groups : null;
			if (groups != null) { 
				processDecimalValues(groups, groupIndices, matches);
			}
			let finalLine = currentLine.split(',');
			/* sack off oc for now */
			if (header == 'od' /*|| header == 'oc'*/) {
				headerLine = convertLine(lines[headerIndexes[headerIndexes.length-1]], pattern[type]['oh'].regex, captureGroupString(pattern[type]['oh'].length).slice(0, -1)) + ',';
					
				for (let j = 0; j < convertedValuesIndexes.length; j++) {
          let index = convertedValuesIndexes[j] - 1;
					finalLine[index] = convertedValues[j];
        }
				finalLine = headerLine.concat(finalLine);
				ordersData.push(finalLine + '\n');
			}
		}); 
		return ordersData;
	}

	/* TO DO - refactor readFile function as it is very big at the moment, and contains repeated code with the order interface processing */
	function readFile(input) {			

		let file = input.files[0];
		let reader = new FileReader();

		reader.readAsText(file);

		let csvData = [];

		/* Clear the previous "click here to download" link if one already exists */
		document.getElementById('downloadFile').innerHTML = '';
		
		reader.onload = function() {

			/* using includes in the file name is a bit crap because for example, product and productgroup will both return a match and we need to tell exactly which file the user is uploading. Need to actually match the file name properly. The assumption here is that the user gets the file and doesn't rename it, so the format will always be <EBIZ or CORD>_<interface name><load of numbers.ext>, extract the interface name from in between */
			let interface = file.name.match(/((EBIZ_|CORD\d*_|SAP2WEB_|OURBOOKER))(?<interface>[a-z]+)(.*)/i);
			

			let fileType = interface.groups.interface ? interface.groups.interface.toLowerCase() : '';

		

			let splitLines = reader.result.split(/\r\n|\n/);
			
			let lines = splitLines.filter((line) => line.length > 0);

			
			if (fileType == 'orders') {
				csvData =	processOrderInterface(heading[fileType], lines, fileType);
				
			} else {
			csvData.push(heading[fileType] + '\n');

			let interfaceLength = pattern[fileType].length;

			let regex = pattern[fileType].regex;
			
			let captureGroups = captureGroupString(interfaceLength).slice(0, -1);

			/* may have to look at using good ol for loops (because they are supposed to be quicker than map()?) because there are cases where a file
			could contain 10 million rows and the map function below cannot handle it.  */


			splitLines.map(line => {

				// check against whitespaces / empty lines in the file
				if (line.length > 0) {

					let matches = regex.exec(line); 

					
					
					let currentLine = line.replace(regex, captureGroups);
			 		
					if (matches.groups !== undefined) {
						
						processDecimalValues(matches.groups, Object.values(matches.indices.groups), matches);
					
					let finalLine = currentLine.split(',');
	      	for (let j = 0; j < convertedValuesIndexes.length; j++) {
          	let index = convertedValuesIndexes[j] - 1;
						finalLine[index] = convertedValues[j];
        	}
					csvData.push(finalLine + '\n');
					} else {
						csvData.push(currentLine + '\n');
					}
				}
			});
		}
			let newFile = new File(csvData, { 
				type: 'text/csv;charset=utf-8,' 
			});

			let objUrl = URL.createObjectURL(newFile);

			let csvFileLink = document.createElement('a')
			csvFileLink.setAttribute('href', objUrl);
			csvFileLink.setAttribute('download', file.name + 'ConvertedFile.csv');
			csvFileLink.textContent = 'Click to download converted ' + fileType.toUpperCase() + ' file';

			document.getElementById('downloadFile').append(csvFileLink);
  	};
	}

	</script>
	<style>
		.booker {
      background: #2356AA;
			color: #ffffff;
    }

		.booker:hover {
			background: #000000;
			color: #ffffff;
		}
			
		.booker-jumbotron {
			background-color: #f8f8f8;
			color: #062F6E;
		}

		.required {
			color: red;
		}

		.logo {
			max-width: 200px;
		}
	</style>

	</head>
	<body>
	<header>
		<div class="container pt-3 pb-3">
			<img src="https://assets-global.website-files.com/61f27d3474c2ef62975a0106/61f27d3474c2ef78475a0118_Booker%20logo.svg" class="mt-3 logo">
		</div>
	</header>
	<main>
	<div class="jumbotron jumbotron-fluid mt-5 booker-jumbotron pt-3 pb-3">
      <div class="container">
        <h1>Tools</h1>
        <p>Some web based custom tools to try and help.</p>
      </div>
  </div>
	
	<div class="container pt-3 pb-3">
		
		<h3>File converter</h3>
		<p>The aim is to be able to convert all interfaces into readable csv format and JSON. Need to get the actual files from Getronics for all interfaces to check each one actually works.</p>
		<div class="mb-3">
			<label for="label" class="form-label">File:</label>
			<input type="file" class="form-control" name="fileConvert" id="fileConvert" onchange="readFile(this)"/>
		</div>
		<div class="mb-3" id="downloadFile">
		
		</div>
	</div>
		<hr />

	<!--	<div class="container pt-3 pb-3">
			<h3>Customer File creator</h3>
			<p>An attempt to make this quicker / easier?
				A few points:
				<ul>
					<li>Check GitHub to find the last account number created in order to not overwrite any current accounts</li>
					<li>Accounts created should have the format of CustomerID@test.com</li>
					<li>"Try" to create an option to create a combination of accounts with one hit of a button. The combination is based on Branch ID, Group Sector (which controls whether it is a Retailer/Caterer), Licenced</li>
				</ul>
			</p>
			<div id="createCustomerFile"></div>
		</div>
	</main>	
	<footer>
	
	</footer>
	<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
	<script type="text/javascript" src="https://unpkg.com/babel-standalone@6/babel.js"></script>


	<script type="text/babel">
		const { useState } = React;

		function App() {
			const [inputs, setInputs] = useState();

			const handleChange = (event) => {
				const name = event.target.name;
				const value = event.target.value;
				
				setInputs(values => ({...values, [name]: value}))				
			}

			const handleSubmit = (event) => {
    		event.preventDefault();
    		
  		}


		function Field({props}) {
			if (props.type == 'select') {
				return (
				<div className="form-floating">
					<select className="form-select" id={props.name} placeholder={props.placeholder} name={props.name} defaultValue={props.default}>
						<option key="null">Please select</option>
							{
								Object.entries(props.values).map(([k, v]) => {
									return (
										<option key={k} value={k}>{v}</option>
									)	
								})
								
							}
					</select>
					<label htmlFor="floatingSelect">{props.placeholder}</label>
				</div>
				)
			}
			if (props.type == 'input') {
				return (
					<div className="form-floating mb-3">
						<input type="text" className="form-control" placeholder={props.placeholder} name={props.name} minlength={props.length} maxLength={props.length} defaultValue={props.default} />
						<label forhtml="floatingInput">{props.placeholder}</label>
					</div>
				)
			}
			if (props.type == 'radio') {
				return (
					<div>
						<label forhtml={props.name}>{props.placeholder}</label>
						<div className="form-check">
							<input type="radio" className="form-check-input" name={props.name} />
							<label className="form-check-label" htmlFor="yesRadio">Yes</label>
						</div>

						<div className="form-check">
							<input type="radio" className="form-check-input" name={props.name} checked={props.default == 'N' ? "checked" : ""} />
							<label className="form-check-label" forhtml="noRadio">No</label>
						</div>
					</div>
				)
			}
		}

		/* TO DO - the aim here is to make a function which allows the customer to specify which combo they want to generate customers for. But for now let's keep it
			simple and do the simple combos before getting too fancy */
		function AddCombinationButton() {
			return (
				<div className="d-grid gap-2 mb-3">
					<button type="submit" className="btn btn-outline-secondary">Add Combination - TO DO</button>
				</div>	
			)
		}

		function Fields() {
			return (
				customerInterface.map(field => { 
					return (field.hasOwnProperty('required') && 
						<div>
							<label htmlFor="label" className="required">*</label>
							<div className="form-floating mb-3">
								<Field key={field.name} props={field} />
							</div>
						</div>
					)
				})
			);	
		}


		function AddLineButton() {
			return (
				<div className="d-grid gap-2 mb-3">
					<button type="submit" className="btn btn-outline-secondary" onClick={handleChange}>Add Line</button>
				</div>	
			)
		}



		function CreateFileButton() {
			return (
				<div className="d-grid gap-2 mb-3">
					<button type="submit" className="btn booker">Create File</button>
				</div>	
			)
		}
			
			return (
				<div>
					<form onSubmit={handleSubmit}>
						<Fields />
					</form>
					<AddLineButton />
					<AddCombinationButton />
					<CreateFileButton />
				</div>
			)
		}

	
		const container = document.getElementById('createCustomerFile');
		const root = ReactDOM.createRoot(container);
		root.render(<App />);
	
	</script>-->

</body>
</html>
